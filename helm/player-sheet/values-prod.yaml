# Production values

api:
  replicas: 2
  env:
    NODE_ENV: production
    CORS_ORIGIN: "https://player-sheet.example.com"
  resources:
    limits:
      cpu: 500m
      memory: 512Mi
    requests:
      cpu: 200m
      memory: 256Mi

web:
  replicas: 2
  env:
    NODE_ENV: production
    NEXT_PUBLIC_API_URL: "https://player-sheet.example.com/graphql"
  resources:
    limits:
      cpu: 500m
      memory: 512Mi
    requests:
      cpu: 200m
      memory: 256Mi

mongodb:
  enabled: true
  auth:
    enabled: true
    # rootPassword set via --set or external secret
    database: player-sheet
  persistence:
    enabled: true
    size: 20Gi
    storageClass: ""  # Use default storage class

ingress:
  enabled: true
  className: nginx
  annotations:
    nginx.ingress.kubernetes.io/proxy-body-size: "10m"
    cert-manager.io/cluster-issuer: letsencrypt-prod
  hosts:
    - host: player-sheet.example.com
      paths:
        - path: /
          pathType: Prefix
          service: web
        - path: /graphql
          pathType: Prefix
          service: api
  tls:
    - secretName: player-sheet-tls
      hosts:
        - player-sheet.example.com

# Secrets should be provided via:
# - Kubernetes Secrets
# - External Secrets Operator
# - helm --set secrets.jwtSecret=xxx
secrets:
  jwtSecret: ""
  jwtRefreshSecret: ""
  mongodbRootPassword: ""
